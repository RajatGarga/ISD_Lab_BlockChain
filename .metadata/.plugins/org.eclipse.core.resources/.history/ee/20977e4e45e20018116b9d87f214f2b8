package tests;

import java.io.BufferedWriter;
import java.io.FileOutputStream;
import java.io.IOException;
import java.io.OutputStreamWriter;
import java.io.Writer;
import java.nio.charset.StandardCharsets;
import java.security.KeyPair;

import utils.Crypto;

public class filetest {
	public static void main(String[] args) {
		initVoters();
	}
	private static void initVoters() {
		   //TODO Must have a separate endpoint and to be done well before the date of voting
		   try (Writer writer = new BufferedWriter(new OutputStreamWriter(new FileOutputStream("myFile.txt"), StandardCharsets.UTF_8))) {
			    for(int i=0; i<10; i++) {
			    	KeyPair key = Crypto.generateKeys();
			    	writer.write(Crypto.getPrivateKeyasString(key)+"\n");
			    	writer.write(Crypto.getPublicKeyasString(key)+"\n");
			    }
			}
			catch (IOException ex) {
			    System.out.println("An error occured :: " + ex.getMessage());
			}  
	   }

}
